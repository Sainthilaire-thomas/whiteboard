# Documentation Sch√©ma Whiteboard - 000-CADO

## Vue d'Ensemble

Le sch√©ma `whiteboard` constitue le **syst√®me de collaboration temps r√©el** de 000-CADO avec **8 tables** orchestrant les sessions d'√©valuation collaborative synchrone entre coaches et conseillers. Il permet l'√©valuation granulaire (mot-par-mot), la synchronisation temps r√©el, et la collecte de feedback collaboratif.

### Statistiques G√©n√©rales

- **8 tables** sp√©cialis√©es collaboration temps r√©el
- **6 colonnes UUID** pour identifiants distribu√©s
- **1 colonne JSONB** pour configuration flexible
- **3 relations intra-sch√©ma** + 9 relations cross-sch√©mas
- **4 s√©quences** pour auto-incr√©mentation
- **Propri√©taire** : postgres (sch√©ma m√©tier custom)

## Architecture du Syst√®me Collaboratif

### üéØ **Workflow de Collaboration Temps R√©el**

```
Coach lance session ‚Üí shared_evaluation_sessions (√©tat partag√©)
            ‚Üì
Participants rejoignent ‚Üí sessions (tracking participants)
            ‚Üì
√âvaluation collaborative ‚Üí participant_evaluations (granularit√© mot-par-mot)
            ‚Üì
Interface synchronis√©e ‚Üí current_view (√©tat interface partag√©)
            ‚Üì
Annotations visuelles ‚Üí postits (√©l√©ments collaboratifs)
            ‚Üì
Feedback collect√© ‚Üí survey_settings ‚Üí survey_responses
            ‚Üì
Questions dynamiques ‚Üí whiteboard_question (contenu adaptatif)
```

## Tables par Domaine Fonctionnel

### üéÆ **1. Gestion des Sessions Collaboratives** (2 tables)

#### **Table `shared_evaluation_sessions` - Hub Central des Sessions**

**C≈ìur du syst√®me collaboratif** avec synchronisation fine :

```sql
-- Identifiants et contexte
id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
coach_user_id UUID ‚Üí auth.users.id (NO ACTION),
call_id INTEGER ‚Üí public.call.callid (NO ACTION),
session_name VARCHAR(255),

-- √âtat de la session temps r√©el
audio_position NUMERIC DEFAULT 0,         -- Position audio synchronis√©e
session_mode VARCHAR(20) DEFAULT 'paused', -- 'paused', 'playing', 'reviewing'
is_active BOOLEAN DEFAULT true,

-- Configuration d'affichage collaborative
show_participant_tops BOOLEAN DEFAULT false,  -- Afficher classement participants
show_tops_realtime BOOLEAN DEFAULT false,     -- Mise √† jour classement temps r√©el
anonymous_mode BOOLEAN DEFAULT true,          -- Mode anonyme pour √©valuations

-- Navigation granulaire dans le contenu
view_mode VARCHAR(20) DEFAULT 'word',         -- 'word', 'sentence', 'paragraph'
current_word_index INTEGER DEFAULT 0,         -- Mot actuellement visualis√©
current_paragraph_index INTEGER DEFAULT 0,    -- Paragraphe actuellement visualis√©

-- Pr√©f√©rences d'affichage
highlight_turn_one BOOLEAN DEFAULT false,     -- Surligner premier tour
highlight_speakers BOOLEAN DEFAULT true,      -- Diff√©rencier les interlocuteurs

-- Audit temporel
created_at TIMESTAMP DEFAULT now(),
updated_at TIMESTAMP DEFAULT now()
```

**Fonctionnalit√©s r√©v√©l√©es** :

- **Synchronisation audio** : Position partag√©e entre tous les participants
- **Navigation granulaire** : Mot par mot, phrase par phrase, ou paragraphe
- **Mode anonyme** : √âvaluations collaboratives sans r√©v√©ler l'identit√©
- **Affichage adaptatif** : Configuration interface selon pr√©f√©rences

#### **Table `sessions` - Tracking des Participants**

```sql
-- Identification participant
id INTEGER PRIMARY KEY,
idavatar INTEGER ‚Üí public.avatars.idavatar (CASCADE DELETE),
nom TEXT NOT NULL,
url TEXT NOT NULL,
joined_at TIMESTAMP WITH TIME ZONE DEFAULT now()
```

**Relations CASCADE** :

- Suppression avatar ‚Üí suppression session (coh√©rence donn√©es)

### üìä **2. √âvaluations Collaboratives Granulaires** (1 table)

#### **Table `participant_evaluations` - √âvaluations Ultra-Pr√©cises**

**Innovation majeure** : √âvaluation collaborative au niveau du mot

```sql
-- Identifiants collaboratifs
id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
session_id UUID ‚Üí shared_evaluation_sessions.id (NO ACTION),
participant_session_id INTEGER ‚Üí sessions.id (NO ACTION),

-- R√©f√©rencement pr√©cis du contenu √©valu√©
call_id INTEGER ‚Üí public.call.callid (NO ACTION),
audio_timestamp NUMERIC,                    -- Position exacte dans l'audio
transcription_segment TEXT,                 -- Segment de transcription √©valu√©
word_start_id INTEGER ‚Üí public.word.wordid (NO ACTION),  -- Mot de d√©but
word_end_id INTEGER ‚Üí public.word.wordid (NO ACTION),    -- Mot de fin

-- √âvaluation m√©tier
comment TEXT,                              -- Commentaire de l'√©valuateur
assigned_sujet_id INTEGER ‚Üí public.sujets.idsujet (NO ACTION),      -- Contexte m√©tier
assigned_pratique_id INTEGER ‚Üí public.pratiques.idpratique (NO ACTION), -- Comp√©tence √©valu√©e

-- Audit
created_at TIMESTAMP DEFAULT now()
```

**Particularit√©s techniques** :

- **Granularit√© mot-par-mot** : `word_start_id` et `word_end_id` pour s√©lection pr√©cise
- **Double synchronisation** : Session globale + session participant
- **R√©f√©rences crois√©es** : Call, sujet, pratique pour contexte complet
- **Timestamp audio** : Synchronisation avec lecteur audio partag√©

### üé® **3. Interface Collaborative Visuelle** (2 tables)

#### **Table `postits` - Annotations Visuelles Partag√©es**

```sql
-- Contenu et positionnement
content TEXT NOT NULL,                     -- Texte du post-it
x DOUBLE PRECISION DEFAULT 0,             -- Position X sur whiteboard
y DOUBLE PRECISION DEFAULT 0,             -- Position Y sur whiteboard
color TEXT DEFAULT 'yellow',              -- Couleur du post-it

-- Identifiant et audit
id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
created_at TIMESTAMP WITH TIME ZONE DEFAULT now(),
updated_at TIMESTAMP WITH TIME ZONE DEFAULT now()
```

**Fonctionnalit√©s** :

- **Positionnement libre** : Coordonn√©es X,Y sur whiteboard infini
- **Personnalisation visuelle** : Couleurs pour cat√©gorisation
- **UUID distribu√©** : Identifiants uniques pour synchronisation temps r√©el

#### **Table `current_view` - √âtat Interface Partag√©**

```sql
-- √âtat de l'interface partag√©e
id INTEGER PRIMARY KEY,
view_name TEXT NOT NULL,                   -- Vue actuellement active
updated_at TIMESTAMP DEFAULT now()        -- Derni√®re synchronisation
```

**Usage** : Synchronisation de l'√©tat d'interface entre participants

### üìã **4. Syst√®me de Feedback Collaboratif** (3 tables)

#### **Architecture Feedback Dynamique**

```
survey_settings (configuration) ‚Üí survey_responses (r√©ponses) ‚Üê whiteboard_question (questions adaptatives)
```

#### **Table `survey_settings` - Configuration Enqu√™tes**

```sql
-- Questions configurables
id INTEGER PRIMARY KEY,
question_open TEXT NOT NULL,              -- Question ouverte obligatoire
question_closed TEXT,                     -- Question ferm√©e optionnelle
closed_options JSONB,                     -- Options de r√©ponse (structure flexible)

-- Configuration et audit
email TEXT,                               -- Email de configuration
created_at TIMESTAMP DEFAULT now(),
updated_at TIMESTAMP DEFAULT now()
```

**Structure JSONB `closed_options`** :

```json
{
  "type": "multiple_choice",
  "options": [
    { "value": "excellent", "label": "Excellent" },
    { "value": "good", "label": "Bien" },
    { "value": "average", "label": "Moyen" },
    { "value": "poor", "label": "√Ä am√©liorer" }
  ],
  "allow_multiple": false,
  "required": true
}
```

#### **Table `survey_responses` - R√©ponses Collaboratives**

```sql
-- Identification r√©pondant
id INTEGER PRIMARY KEY,
participant_id UUID ‚Üí auth.users.id (SET NULL),
survey_id INTEGER ‚Üí survey_settings.id (CASCADE DELETE),

-- R√©ponses structur√©es
rating INTEGER,                           -- Note num√©rique
feedback TEXT,                           -- Commentaire libre
closed_answer TEXT,                      -- R√©ponse question ferm√©e
email TEXT,                              -- Email r√©pondant (optionnel)

-- Audit
created_at TIMESTAMP DEFAULT now()
```

**Relations** :

- **CASCADE DELETE** : Suppression enqu√™te ‚Üí suppression r√©ponses
- **SET NULL** : Suppression utilisateur ‚Üí pr√©servation r√©ponse anonymis√©e

#### **Table `whiteboard_question` - Questions Dynamiques**

```sql
-- Questions g√©n√©r√©es dynamiquement
id INTEGER PRIMARY KEY,
question TEXT NOT NULL                    -- Question adapt√©e au contexte
```

**Usage probable** : Questions g√©n√©r√©es par IA selon le contexte de l'√©valuation

## Contraintes Business et S√©curit√©

### üîí **Row Level Security (RLS) - S√©curit√© Collaborative Avanc√©e**

Le sch√©ma `whiteboard` impl√©mente un **syst√®me RLS sophistiqu√©** avec **32 politiques** pour s√©curiser la collaboration temps r√©el :

#### **Politiques Coach Sp√©cialis√©es**

```sql
-- Acc√®s privil√©gi√© coach identifi√©
'Allow coach to update view' ON current_view
WHERE auth.email() = 'thomassonear@gmail.com'

-- Gestion compl√®te sessions par coach
'users_manage_own_sessions' ON shared_evaluation_sessions
WHERE coach_user_id = auth.uid()

-- Suppression globale sessions (fonction admin)
'Allow coach to delete all sessions' ON sessions
WHERE auth.email() = 'thomassonear@gmail.com'
```

#### **Politiques Participants Collaboratives**

```sql
-- Participants g√®rent leurs propres √©valuations
'Participants can submit responses' ON survey_responses
WHERE participant_id = auth.uid()

-- Acc√®s lecture √† ses propres r√©ponses uniquement
'Participants can view their own responses' ON survey_responses
WHERE participant_id = auth.uid()

-- Acc√®s sessions actives pour tous participants
'Allow public read access to active sessions' ON shared_evaluation_sessions
WHERE is_active = true
```

#### **Politiques Post-its Collaboratifs**

```sql
-- CRUD complet pour utilisateurs authentifi√©s
'Allow authenticated users to insert postits' WHERE auth.uid() IS NOT NULL
'Allow authenticated users to read postits' WHERE auth.uid() IS NOT NULL
'Allow authenticated users to update postits' WHERE auth.uid() IS NOT NULL
'Allow authenticated users to delete postits' WHERE auth.uid() IS NOT NULL

-- + Politiques publiques permissives pour collaboration ouverte
'Allow insert for all users', 'Allow read for all', etc.
```

### ‚öñÔ∏è **Contraintes M√©tier**

#### **Contrainte Qualit√© Feedback**

```sql
-- Syst√®me de notation 1-5 obligatoire
survey_responses_rating_check: rating >= 1 AND rating <= 5
```

#### **Contraintes R√©f√©rentiell Strict**

```sql
-- Champs obligatoires pour coh√©rence collaborative
content IS NOT NULL (postits)
x IS NOT NULL, y IS NOT NULL (positionnement postits)
question_open IS NOT NULL (survey_settings)
```

## Optimisations Performance et Volum√©trie

### üìä **Patterns d'Usage R√©v√©l√©s**

#### **Donn√©es Temps R√©el (Usage Actuel)**

| Table                          | Lignes | Pattern          | Insight                            |
| ------------------------------ | ------ | ---------------- | ---------------------------------- |
| **shared_evaluation_sessions** | 9      | **BALANCED**     | Sessions actives + historique      |
| **sessions**                   | 5      | **INSERT_HEAVY** | Participants se connectent         |
| **survey_responses**           | 4      | **INSERT_HEAVY** | Feedback collect√©                  |
| **current_view**               | 1      | **UPDATE_HEAVY** | √âtat interface synchronis√©         |
| **participant_evaluations**    | 0      | **STATIC**       | Fonctionnalit√© pr√™te, pas utilis√©e |

#### **Insights Op√©rationnels**

- **Sessions actives** : 9 sessions cr√©√©es, 12 mises √† jour (√©volution temps r√©el)
- **Interface synchronis√©e** : `current_view` mise √† jour 13 fois (navigation partag√©e)
- **Collaboration authentique** : 5 participants, 4 feedbacks (engagement r√©el)
- **Potentiel inexploit√©** : `participant_evaluations` vide (fonctionnalit√© avanc√©e pr√™te)

### ‚ö° **Index Sp√©cialis√©s Performance**

#### **Index Temps R√©el Optimis√©**

```sql
-- Performance collaboration temps r√©el
CREATE INDEX idx_shared_sessions_realtime
ON shared_evaluation_sessions (id, updated_at, is_active);

-- Contrainte m√©tier : Un coach = Une session active
CREATE UNIQUE INDEX unique_active_session_per_coach
ON shared_evaluation_sessions (coach_user_id)
WHERE is_active = true;
```

**Optimisations r√©v√©l√©es** :

- **Requ√™tes temps r√©el** : Index compos√© pour synchronisation rapide
- **R√®gle m√©tier** : Pr√©vention sessions multiples simultan√©es par coach
- **Performance collaborative** : Index sur UUID + timestamps pour r√©activit√©

## Relations et Int√©grations

### üîó **Relations Intra-Sch√©ma** (3 relations)

#### **Workflow de Session**

```sql
-- Participants rejoignent sessions d'√©valuation
participant_evaluations.session_id ‚Üí shared_evaluation_sessions.id (NO ACTION)
participant_evaluations.participant_session_id ‚Üí sessions.id (NO ACTION)

-- Enqu√™tes et r√©ponses li√©es
survey_responses.survey_id ‚Üí survey_settings.id (CASCADE DELETE)
```

### üåê **Relations Cross-Sch√©mas** (9 relations)

#### **Vers Sch√©ma `public` (M√©tier Core)** - 7 relations

```sql
-- R√©f√©rences pr√©cises au contenu m√©tier
participant_evaluations.call_id ‚Üí public.call.callid (NO ACTION)
participant_evaluations.word_start_id ‚Üí public.word.wordid (NO ACTION)
participant_evaluations.word_end_id ‚Üí public.word.wordid (NO ACTION)
participant_evaluations.assigned_sujet_id ‚Üí public.sujets.idsujet (NO ACTION)
participant_evaluations.assigned_pratique_id ‚Üí public.pratiques.idpratique (NO ACTION)

-- Gestion sessions et avatars
sessions.idavatar ‚Üí public.avatars.idavatar (CASCADE DELETE)
shared_evaluation_sessions.call_id ‚Üí public.call.callid (NO ACTION)
```

#### **Vers Sch√©ma `auth` (Utilisateurs)** - 2 relations

```sql
-- Identification utilisateurs collaboratifs
shared_evaluation_sessions.coach_user_id ‚Üí auth.users.id (NO ACTION)
survey_responses.participant_id ‚Üí auth.users.id (SET NULL)
```

### üõ°Ô∏è **Strat√©gies de Protection**

#### **NO ACTION (Protection Donn√©es M√©tier)**

- **Pr√©servation contenu** : Suppression appel/mot n'affecte pas √©valuations collaboratives
- **Historique √©valuations** : Sessions pr√©serv√©es m√™me si participants supprim√©s
- **Int√©grit√© r√©f√©rentielle** : √âvaluations restent coh√©rentes

#### **CASCADE DELETE (Coh√©rence Collaborative)**

- **Sessions li√©es aux avatars** : Suppression avatar ‚Üí suppression session
- **Enqu√™tes et r√©ponses** : Suppression enqu√™te ‚Üí suppression r√©ponses

#### **SET NULL (Anonymisation)**

- **RGPD compliance** : Suppression utilisateur ‚Üí anonymisation r√©ponses

## Patterns de Collaboration Temps R√©el

### üîÑ **Synchronisation Multi-Niveaux**

#### **1. Synchronisation Audio/Contenu**

```sql
-- Position audio partag√©e
shared_evaluation_sessions.audio_position NUMERIC DEFAULT 0
shared_evaluation_sessions.current_word_index INTEGER DEFAULT 0

-- Navigation coordonn√©e
participant_evaluations.audio_timestamp ‚Üí synchronis√© avec audio_position
participant_evaluations.word_start_id ‚Üí synchronis√© avec current_word_index
```

#### **2. Synchronisation Interface**

```sql
-- √âtat interface partag√©
current_view.view_name ‚Üí vue active synchronis√©e
shared_evaluation_sessions.view_mode ‚Üí 'word', 'sentence', 'paragraph'

-- Param√®tres d'affichage collaboratifs
show_participant_tops BOOLEAN ‚Üí affichage classement temps r√©el
highlight_speakers BOOLEAN ‚Üí mise en √©vidence interlocuteurs
```

#### **3. Synchronisation √âvaluations**

```sql
-- Mode anonyme configurable
shared_evaluation_sessions.anonymous_mode BOOLEAN DEFAULT true

-- Affichage temps r√©el des √©valuations
show_tops_realtime BOOLEAN DEFAULT false
```

### üé≠ **Modes de Collaboration**

#### **Mode Session (`session_mode`)**

- **`'paused'`** : Session en pause, navigation libre
- **`'playing'`** : Lecture synchronis√©e, √©valuations temps r√©el
- **`'reviewing'`** : R√©vision collaborative des √©valuations

#### **Mode Vue (`view_mode`)**

- **`'word'`** : Navigation mot par mot (granularit√© maximale)
- **`'sentence'`** : Navigation phrase par phrase
- **`'paragraph'`** : Navigation paragraphe par paragraphe

#### **Mode Affichage**

- **Mode anonyme** : √âvaluations sans r√©v√©ler l'identit√©
- **Classement temps r√©el** : Comparaison performance participants
- **Surlignage adaptatif** : Mise en √©vidence selon pr√©f√©rences

## Innovations Techniques

### üöÄ **Granularit√© Ultra-Fine**

```sql
-- √âvaluation pr√©cise au mot pr√®s
participant_evaluations.word_start_id ‚Üí public.word.wordid
participant_evaluations.word_end_id ‚Üí public.word.wordid
participant_evaluations.audio_timestamp NUMERIC
```

**Capacit√©s r√©v√©l√©es** :

- **S√©lection pr√©cise** : Du mot X au mot Y dans la transcription
- **Synchronisation audio** : Position exacte dans l'enregistrement
- **√âvaluation contextuelle** : Sujet + pratique + commentaire sur passage pr√©cis

### üé® **Whiteboard Infini**

```sql
-- Positionnement libre des √©l√©ments
postits.x DOUBLE PRECISION DEFAULT 0
postits.y DOUBLE PRECISION DEFAULT 0
postits.color TEXT DEFAULT 'yellow'
```

**Fonctionnalit√©s** :

- **Espace infini** : Coordonn√©es flottantes pour positionnement libre
- **Personnalisation** : Couleurs pour cat√©gorisation visuelle
- **Persistance** : √âtats sauvegard√©s avec timestamps

### üß† **Feedback Adaptatif**

```sql
-- Configuration flexible d'enqu√™tes
survey_settings.closed_options JSONB
whiteboard_question.question TEXT
```

**Syst√®me intelligent** :

- **Questions dynamiques** : G√©n√©r√©es selon contexte d'√©valuation
- **Options configurables** : Structure JSONB pour flexibilit√© maximale
- **Collecte multi-format** : Rating + feedback libre + r√©ponses ferm√©es

## S√©quences et Gestion des Identifiants

### üî¢ **Architecture Hybride Identifiants**

| Type        | Tables                                                                               | Usage                         | Avantage                          |
| ----------- | ------------------------------------------------------------------------------------ | ----------------------------- | --------------------------------- |
| **UUID**    | `shared_evaluation_sessions`,`participant_evaluations`,`postits`                     | **Collaboration temps r√©el**  | Distribution, unicit√© globale     |
| **INTEGER** | `sessions`,`survey_settings`,`survey_responses`,`whiteboard_question`,`current_view` | **Configuration & r√©f√©rence** | Performance, relations optimis√©es |

#### **S√©quences Configuration** (5 s√©quences)

```sql
-- S√©quences INTEGER pour performance
current_view_id_seq, sessions_id_seq, survey_responses_id_seq,
survey_settings_id_seq, whiteboard_question_id_seq

-- Toutes : start_value=1, increment=1, max=2147483647
```

### üéØ **Classification Fonctionnelle des Identifiants**

#### **ACTOR_ID (Utilisateurs Collaboratifs)**

- `shared_evaluation_sessions.coach_user_id` : Responsable session
- `survey_responses.participant_id` : R√©pondant enqu√™te

#### **SESSION_ID (Sessions Collaboratives)**

- `participant_evaluations.session_id` : Session d'√©valuation partag√©e
- `participant_evaluations.participant_session_id` : Session participant individuelle

#### **CONTENT_ID (Contenu M√©tier R√©f√©renc√©)**

- `participant_evaluations.call_id` : Appel √©valu√© collaborativement
- `shared_evaluation_sessions.call_id` : Appel de la session partag√©e

#### **GENERAL_ID (Identifiants Techniques)**

- Tous les autres identifiants : cl√©s primaires et r√©f√©rences

## Architecture UUID et Performance

### ‚ö° **Optimisations Temps R√©el**

#### **Index Sp√©cialis√©s Collaboration**

```sql
-- Performance temps r√©el critique
CREATE INDEX idx_shared_sessions_realtime
ON shared_evaluation_sessions (id, updated_at, is_active);

-- Contrainte m√©tier : Un coach actif √† la fois
CREATE UNIQUE INDEX unique_active_session_per_coach
ON shared_evaluation_sessions (coach_user_id)
WHERE is_active = true;
```

#### **Patterns de Requ√™tes Optimis√©es**

```sql
-- Sessions actives temps r√©el (utilise idx_shared_sessions_realtime)
SELECT * FROM shared_evaluation_sessions
WHERE is_active = true
ORDER BY updated_at DESC;

-- √âvaluations session en cours
SELECT pe.*, ses.audio_position, ses.current_word_index
FROM participant_evaluations pe
JOIN shared_evaluation_sessions ses ON pe.session_id = ses.id
WHERE ses.is_active = true AND ses.coach_user_id = ?;
```

#### **Volum√©trie Op√©rationnelle Actuelle**

- **9 sessions** cr√©√©es avec 24 mises √† jour (√©volution temps r√©el active)
- **5 participants** actifs avec sessions INSERT-heavy
- **Interface synchronis√©e** : 13 mises √† jour `current_view` (navigation partag√©e)
- **Feedback authentique** : 4 r√©ponses collect√©es
- **Potentiel inexploit√©** : `participant_evaluations` vide (fonctionnalit√© pr√™te)

## Workflows de Collaboration

### üé¨ **Sc√©nario Type : Session d'√âvaluation Collaborative**

#### **1. Initialisation Session**

```sql
-- Coach lance session d'√©valuation
INSERT INTO shared_evaluation_sessions (coach_user_id, call_id, session_name, session_mode)
VALUES (?, ?, '√âvaluation Call #123', 'paused');

-- Participants rejoignent
INSERT INTO sessions (idavatar, nom, url) VALUES (?, 'Conseiller A', '/avatar/1');
```

#### **2. Navigation Synchronis√©e**

```sql
-- Coach navigue ‚Üí synchronisation participants
UPDATE shared_evaluation_sessions
SET current_word_index = 145, audio_position = 32.5, updated_at = now()
WHERE id = ? AND coach_user_id = ?;
```

#### **3. √âvaluations Granulaires**

```sql
-- Participant √©value passage pr√©cis
INSERT INTO participant_evaluations (
    session_id, participant_session_id, call_id,
    word_start_id, word_end_id, audio_timestamp,
    transcription_segment, comment, assigned_pratique_id
) VALUES (?, ?, ?, 140, 150, 32.5, 'Bonjour, merci de nous appeler', 'Excellente ouverture', 3);
```

#### **4. Feedback Collaboratif**

```sql
-- Configuration enqu√™te post-session
INSERT INTO survey_settings (question_open, closed_options)
VALUES ('Comment √©valuez-vous cette session collaborative ?',
        '{"type": "rating", "scale": [1,2,3,4,5], "labels": ["Tr√®s mauvais", "Excellent"]}');

-- Collecte r√©ponses
INSERT INTO survey_responses (participant_id, survey_id, rating, feedback)
VALUES (?, ?, 4, 'Session tr√®s productive, granularit√© mot-par-mot tr√®s utile');
```

## Int√©gration avec l'√âcosyst√®me 000-CADO

### üîÑ **Pipeline √âtendu avec Collaboration**

```
Appel upload√© (public.call)
    ‚Üì
Transcription mot-par-mot (public.word)
    ‚Üì
Session collaborative lanc√©e (whiteboard.shared_evaluation_sessions)
    ‚Üì
√âvaluations granulaires temps r√©el (whiteboard.participant_evaluations)
    ‚Üì
    ‚îú‚îÄ‚îÄ R√©f√©rences public.word (granularit√©)
    ‚îú‚îÄ‚îÄ Assignation public.pratiques (comp√©tences)
    ‚îî‚îÄ‚îÄ Contexte public.sujets (m√©tier)
    ‚Üì
Synth√®se et feedback (whiteboard.survey_responses)
    ‚Üì
Plan d'action personnalis√© (public.activitesconseillers)
```

### ü§ù **Valeur Ajout√©e Collaborative**

#### **√âvaluation Enrichie**

- **Multi-perspectives** : Coach + conseiller √©valuent simultan√©ment
- **Granularit√© in√©gal√©e** : √âvaluation mot par mot impossible manuellement
- **Contexte pr√©serv√©** : Timestamp audio + segment transcription

#### **Apprentissage Acc√©l√©r√©**

- **Temps r√©el** : Pas d'attente pour feedback
- **Visuel** : Post-its et annotations pour m√©morisation
- **Adaptatif** : Questions g√©n√©r√©es selon contexte

#### **Tra√ßabilit√© Compl√®te**

- **Audit trail** : Qui a √©valu√© quoi, quand, comment
- **Am√©lioration continue** : Feedback sur efficacit√© collaborative
- **RGPD compliant** : Anonymisation pr√©servant l'utilit√©

---

## Conclusion

Le sch√©ma `whiteboard` r√©v√®le une **innovation majeure** dans la collaboration temps r√©el pour l'√©valuation qualit√©. Avec sa **granularit√© mot-par-mot** , sa **synchronisation multi-niveaux** et son **syst√®me de feedback adaptatif** , il transforme l'√©valuation qualit√© d'un exercice solitaire en une **exp√©rience collaborative enrichissante** .

L'architecture **UUID + INTEGER hybride** , les **relations de protection intelligentes** et l'**int√©gration profonde** avec le sch√©ma `public` d√©montrent une sophistication technique qui positionne 000-CADO comme une solution de **nouvelle g√©n√©ration** dans le domaine de l'√©valuation qualit√© collaborative assist√©e par IA.

Cette capacit√© d'√©valuation collaborative temps r√©el, combin√©e √† la granularit√© mot-par-mot, constitue un **avantage concurrentiel majeur** face aux solutions traditionnelles d'√©valuation qualit√©.
